# 最优控制问题的数学描述
## 受控系统运动方程
- $x\in \mathbf{R}^n$ 状态向量。例如物体的位置，机械臂每个 joint 的角度。
- $u\in \mathbf{R}^r$ 控制向量。例如机械臂每个 joint 的电机输入电压值。
- $y\in \mathbf{R}^m$ 输出向量，有些情况下状态是不可以直接测量的，而是由 $y$ 间接观测。
- 状态方程 $\dot{x}(t) = f(x, u, t)$: 是一个关于时间 $t$ 的一阶常微分方程。使用一阶微分的形式是因为，如果只知道位置和控制输入，不知道速度，是无法知道后续状态变化的。只有知道状态的速度值，才知道后续的控制输入会怎样影响状态。
- 输出方程 $y(t) = g(x, u, t)$

## 状态约束条件
初始状态 $x_0$ 和 终端状态$x_f$的约束，由等式约束和不等式约束。

等式约束 

$$h_1[x(t_0), t_0] = 0\\ h_2[x(t_f), t_f] = 0$$

这里的 $h$ 是函数向量。最典型的等式约束是直接限定初始和终止状态为特定状态值

$$x(t_0) = x_0\\ x(t_f) = x_f$$

不等式约束

$$h_1[x(t_0), t_0] \leq 0\\ h_2[x(t_f), t_f] \leq 0$$

目标集：满足约束条件的所有终端状态构成的集合

$$\mathbf{M}=\{ x(t_f) | h_1[x(t_f), t_f] = 0, h_2[x(t_f), t_f]\leq 0, x(t_f)\in \mathbf{R}^n \}$$

对整个控制过程中的状态和控制输入的约束通常以系统状态和控制输入的函数的积分来表示，同样有等式形式和不等式形式

$$\int_{t_0}^{t_f} L_e(x, u, t) dt = 0$$
$$\int_{t_0}^{t_f} L_e(x, u, t) dt \leq 0$$

## 容许控制集
即对控制输入 $u$ 的约束。满足控制约束的所有控制向量组成的集合称为 容许控制集 $\mathbf{U}$

最典型的控制约束为幅值约束
- 分量幅值约束: $\alpha_i\leq u_i \leq \beta_i$
- 总赋值恒定约束: $u_1^2 + u_2^2 + ... + u_r^2 = \alpha^2$

## 性能指标
- 终端性能指标函数 $\Phi[x(t_f), t_f]$，衡量终端状态
- 积分性能指标函数 $\int_{t_0}^{t_f}L(x, u, t)dt$，衡量系统状态和控制输入在时间区间上的特性
- 性能指标 $J = \Phi[x(t_f), t_f] + \int_{t_0}^{t_f}L(x, u, t)dt$

## 最优控制问题
给定受控系统，要求设计容许控制 $u\in\mathbf{U}$，使得受控系统状态在终端时刻到达目标集，整个控制过程中满足对状态和控制的约束，且使得性能指标最小。